<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Calendario AgrÃ­cola</title>
  <link rel="stylesheet" href="../css/style_calendario.css">
  <script type="module" src="../js/Calendario.js" defer></script>
</head>
<body>
  <div class="top-bar">
    <button id="btnBack" class="btn-nav" onclick="history.back()">â†</button>
    <button id="themeToggle" class="btn-theme">ğŸŒ™ Modo Oscuro</button>
  </div>

  <h1>ğŸ“… Calendario AgrÃ­cola</h1>

  <!-- FORMULARIO -->
  <form id="formSiembra">
    <label for="cultivo">Cultivo:</label>
    <input list="listaCultivos" type="text" id="cultivo" placeholder="Ej. MaÃ­z" required>
    <datalist id="listaCultivos"></datalist>

    <label for="duracion">DuraciÃ³n (dÃ­as):</label>
    <input type="number" id="duracion" placeholder="Ej. 120">

    <label for="fechaSiembra">Fecha de siembra:</label>
    <input type="date" id="fechaSiembra" required>

    <button type="submit" class="btn">Agregar Cultivo</button>
  </form>

  <h2>ğŸŒ± Cultivos en seguimiento</h2>
  <table id="tablaCultivos">
    <thead>
      <tr>
        <th>Cultivo</th>
        <th>Fecha de Siembra</th>
        <th>Fecha de Cosecha</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div id="acordeonCultivos" class="accordion"></div>

  <h2>ğŸŒ¾ Cultivos Pasados</h2>
  <table id="tablaCultivosPasados">
    <thead>
      <tr>
        <th>Cultivo</th>
        <th>Fecha de Siembra</th>
        <th>Fecha de Cosecha</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    // Modo oscuro/claro
    const themeToggle = document.getElementById("themeToggle");
    const body = document.body;
    if (localStorage.getItem("theme") === "dark") {
      body.classList.add("dark");
      themeToggle.textContent = "â˜€ï¸ Modo Claro";
    }
    themeToggle.addEventListener("click", () => {
      body.classList.toggle("dark");
      const isDark = body.classList.contains("dark");
      themeToggle.textContent = isDark ? "â˜€ï¸ Modo Claro" : "ğŸŒ™ Modo Oscuro";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
  </script>
</body>
</html>
