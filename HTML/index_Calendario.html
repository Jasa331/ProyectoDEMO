<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Calendario AgrÃ­cola</title>
  <link rel="stylesheet" href="../css/style_calendario.css">
</head>
<body>

  <div class="top-bar">
    <button id="btnBack" class="btn-nav" onclick="history.back()">â†</button>
    <button id="themeToggle" class="btn-theme">ğŸŒ™ Modo Oscuro</button>
  </div>

  <h1>ğŸ“… Calendario AgrÃ­cola</h1>

  <p id="mensaje"></p>

  <!-- FORMULARIO MEJORADO -->
  <form id="formSiembra">
    
    <label for="cultivo">ID del Producto:</label>
    <input type="number" id="cultivo" placeholder="Ej: 1" required>

    <label for="cantidad">Cantidad Sembrada:</label>
    <input type="number" id="cantidad" placeholder="Ej. 200" min="1">

    <label for="duracion">DuraciÃ³n estimada (dÃ­as):</label>
    <input type="number" id="duracion" placeholder="Ej. 120" min="1">

    <label for="fechaSiembra">Fecha de siembra:</label>
    <input type="date" id="fechaSiembra" required>

    <label for="ubicacion">UbicaciÃ³n del cultivo:</label>
    <input type="text" id="ubicacion" placeholder="Lote 1 - Norte">

    <label for="estado">Estado del cultivo:</label>
    <select id="estado">
      <option value="Programado">Programado</option>
      <option value="Sembrado">Sembrado</option>
      <option value="En Crecimiento">En Crecimiento</option>
      <option value="Cosechado">Cosechado</option>
      <option value="Fallido">Fallido</option>
    </select>

    <label for="notas">Notas del cultivo:</label>
    <textarea id="notas" placeholder="Observaciones adicionales"></textarea>

    <button type="submit" class="btn">Guardar</button>
  </form>

  <h2>ğŸŒ± Cultivos en seguimiento</h2>
  <table id="tablaCultivos">
    <thead>
      <tr>
        <th>Producto</th>
        <th>Fecha de Siembra</th>
        <th>Fecha Estimada de Cosecha</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script src="../js/Calendario.js" type="module"></script>

  <script>
    // MODO OSCURO
    const themeToggle = document.getElementById("themeToggle");
    const body = document.body;

    if (localStorage.getItem("theme") === "dark") {
      body.classList.add("dark");
      themeToggle.textContent = "â˜€ï¸ Modo Claro";
    }

    themeToggle.addEventListener("click", () => {
      body.classList.toggle("dark");
      const isDark = body.classList.contains("dark");
      themeToggle.textContent = isDark ? "â˜€ï¸ Modo Claro" : "ğŸŒ™ Modo Oscuro";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    });
  </script>

</body>
</html>
