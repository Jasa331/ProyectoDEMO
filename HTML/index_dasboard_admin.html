<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agricord â€¢ Panel Admin</title>
  <link rel="stylesheet" href="../css/style_admin.css"/>
</head>
<body>
  
  <!-- ==================== SIDEBAR ==================== -->
  <aside class="sidebar">
    <div class="brand">
      <div class="logo">ğŸŒ±</div>
      <span>Agricord</span>
    </div>

    <nav class="menu">
      <a class="active"><i>ğŸ“Š</i> Dashboard</a>
      <a><i>ğŸ‘¤</i> Usuarios</a>
      <a href="gastos.html"><i>ğŸ’°</i> Gastos</a>
      <a href="../HTML/index_proveedor_insumo.html"><i>ğŸŒ¾</i> Proveedores</a>
      <a><i>âš™ï¸</i> Ajustes</a>
    </nav>
>>>>>>> 5c231c3a685dd25d5d32f62a02c0eed04d21b06b


    
            </div>

    <!-- Botones adicionales -->
    <div class="sidebar-actions">
      
      <button id="btnExportar" class="btn btn-light">ğŸ“„ Exportar Datos</button>
      <button id="btnConfiguracion" class="btn btn-light">âš™ï¸ ConfiguraciÃ³n</button>
    </div>

    <button id="btnLogout" class="btn btn-outline">Cerrar sesiÃ³n</button>
  </aside>

  <!-- ==================== MAIN CONTENT ==================== -->
  <main class="main">
    <header class="topbar">
      <h1>Panel de AdministraciÃ³n</h1>
      <div class="top-actions">
        <input id="inputBuscar" type="search" placeholder="Buscar por nombre, usuario o correoâ€¦">
        <button id="btnNuevo" class="btn btn-primary">+ Nuevo usuario</button>

        <!-- BotÃ³n de modo claro/oscuro -->
        <button id="themeToggle" class="theme-toggle" title="Cambiar tema">ğŸŒ</button>
      </div>
    </header>

    <!-- ==================== ESTADÃSTICAS ==================== -->
    <section class="stats">
      <article class="stat-card">
        <span class="stat-label">Usuarios totales</span>
        <span class="stat-value" id="statTotal">0</span>
      </article>
      <article class="stat-card">
        <span class="stat-label">Administradores</span>
        <span class="stat-value" id="statAdmins">0</span>
      </article>
      <article class="stat-card">
        <span class="stat-label">Usuarios estÃ¡ndar</span>
        <span class="stat-value" id="statUsuarios">0</span>
      </article>
    </section>

    <!-- ==================== TABLA DE USUARIOS ==================== -->
    <section class="table-wrap">
      <table class="table" aria-label="Usuarios">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Usuario</th>
            <th>Correo</th>
            <th>Perfil</th>
            <th style="width:160px">Acciones</th>
          </tr>
        </thead>
        <tbody id="tbodyUsuarios">
          <!-- filas dinÃ¡micas -->
        </tbody>
      </table>
      <p id="vacio" class="empty">No hay usuarios que coincidan con la bÃºsqueda.</p>
    </section>

    <!-- ==================== BOTONES INFERIORES ==================== -->
    <div class="footer-actions">
      <button id="btnRefrescar" class="btn btn-secondary">ğŸ”„ Refrescar Datos</button>
      <button id="btnSoporte" class="btn btn-secondary">ğŸ“ Soporte</button>
    </div>
  </main>

  <!-- ==================== MODAL CREAR / EDITAR ==================== -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
      <div class="modal-header">
        <h3 id="modalTitle">Nuevo usuario</h3>
        <button class="icon-btn" id="btnCerrarModal" aria-label="Cerrar">âœ–</button>
      </div>

      <form id="formUsuario" autocomplete="off">
        <div class="grid">
          <label>Nombre
            <input type="text" name="nombre" required>
          </label>
          <label>Apellido
            <input type="text" name="apellido" required>
          </label>
          <label>Usuario
            <input type="text" name="usuario" required>
          </label>
          <label>Correo
            <input type="email" name="correo" required>
          </label>
          <label>DirecciÃ³n
            <input type="text" name="direccion">
          </label>
          <label>TelÃ©fono
            <input type="tel" name="telefono">
          </label>
          <label>Perfil
            <select name="perfil" required>
              <option value="Empleado">Empleado</option>
              <option value="Administrador">Administrador</option>
              <option value="Agricultor">Agricultor</option>
            </select>
          </label>
          <label>ContraseÃ±a
            <input type="password" name="password" minlength="4" required>
          </label>
        </div>

        <div class="modal-actions">
          <button type="submit" class="btn btn-primary" id="btnGuardar">Guardar</button>
          <button type="button" class="btn" id="btnCancelar">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ==================== TOAST ==================== -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- ==================== SCRIPTS ==================== -->
  <script src="../js/admin.js"></script>

  <!-- Script del modo oscuro/claro -->
  <script>
    const themeToggle = document.getElementById("themeToggle");
    const currentTheme = localStorage.getItem("theme") || "light";

    document.documentElement.setAttribute("data-theme", currentTheme);
    themeToggle.textContent = currentTheme === "dark" ? "ğŸŒ™" : "ğŸŒ";

    themeToggle.addEventListener("click", () => {
      const isDark = document.documentElement.getAttribute("data-theme") === "dark";
      const newTheme = isDark ? "light" : "dark";

      document.documentElement.setAttribute("data-theme", newTheme);
      localStorage.setItem("theme", newTheme);
      themeToggle.textContent = newTheme === "dark" ? "ğŸŒ™" : "ğŸŒ";
    });
  </script>
</body>
</html>
